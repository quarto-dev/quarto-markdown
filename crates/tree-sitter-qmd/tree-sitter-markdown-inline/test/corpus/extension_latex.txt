================================================================================
Basic LaTeX parsing.
================================================================================
$$This$$ has $$an odd$$ number of instances of $$.

-------------------------------------------------------------------------------
(inline
  (latex_span
    (latex_span_delimiter)
    (latex_content)
    (latex_span_delimiter))
  (text_base)
  (text_base)
  (text_base)
  (latex_span
    (latex_span_delimiter)
    (latex_content)
    (latex_span_delimiter))
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (soft_line_break))

================================================================================
LaTeX and markup clashes.
================================================================================
$$This should prevent *this from parsing$$ the bold.*

-------------------------------------------------------------------------------
(inline
  (latex_span
    (latex_span_delimiter)
    (latex_content)
    (latex_span_delimiter))
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (soft_line_break))

================================================================================
Brackets inside LaTeX are fine and unparsed
================================================================================
$$Hello [there$$ outside
-------------------------------------------------------------------------------
(inline
  (latex_span
    (latex_span_delimiter)
    (latex_content)
    (latex_span_delimiter))
  (text_base)
  (text_base))
================================================================================
LaTeX and link clashes
================================================================================
$$This should prevent [this from parsing$$ the link](https://google.com)
-------------------------------------------------------------------------------
(inline
  (latex_span
    (latex_span_delimiter)
    (latex_content)
    (latex_span_delimiter))
  (text_base)
  (text_base)
  (text_base)
  (text_base)
  (ERROR))
================================================================================
LaTeX inside markup
================================================================================
*This emphasis $$should still parse $$*.

-------------------------------------------------------------------------------
(inline
  (emphasis
    (emphasis_delimiter)
    (text_base)
    (text_base)
    (text_base)
    (text_base)
    (latex_span
      (latex_span_delimiter)
      (latex_content)
      (latex_span_delimiter))
    (emphasis_delimiter))
  (text_base)
  (soft_line_break))
================================================================================
LaTeX within one paragraph
================================================================================
$$This should all be captured
as one instance of LaTeX.$$ after
--------------------------------------------------------------------------------
(inline
  (latex_span
    (latex_span_delimiter)
    (latex_content)
    (latex_span_delimiter))
  (text_base)
  (text_base))
================================================================================
LaTeX with escaped dollar signs
================================================================================
$Hello\$th*er*e$ outside
--------------------------------------------------------------------------------
(inline
  (latex_span
    (latex_span_delimiter)
    (latex_content
      (backslash_escape))
    (latex_span_delimiter))
  (text_base)
  (text_base))
